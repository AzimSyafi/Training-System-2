{% extends "base.html" %}

{% block content %}
<style>
  :root {
    --primary-color: #0d6efd;
    --dark-bg: #071428; /* page background */
    --panel-bg: #ffffff; /* login panel background */
    --light-text: #f8f9fa;
    --dark-text: #212529;
    --body-font: 'Inter', sans-serif;
  }

  html, body {
    height: 100%;
    margin: 0;
    font-family: var(--body-font);
    background: var(--dark-bg); /* dark page background */
    color: var(--light-text);
  }

  .login-split-screen {
    display: flex;
    min-height: 100vh;
    align-items: stretch;
  }

  /* Left Side - Branding stays dark */
  .login-brand-panel {
    flex-basis: 50%;
    background-image: linear-gradient(rgba(7,20,40,0.85), rgba(7,20,40,0.85)), url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop');
    background-size: cover;
    background-position: center;
    color: var(--light-text);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 2rem;
  }

  .login-brand-panel .brand-logo { font-size: 2rem; font-weight: 700; margin-bottom: 1rem; letter-spacing: 1px; }
  .login-brand-panel .brand-tagline { font-size: 1.25rem; font-weight: 400; max-width: 400px; }

  /* Right Side - keep form panel white and elevated */
  .login-form-panel {
    flex-basis: 50%;
    background-color: var(--panel-bg); /* white login area */
    color: var(--dark-text); /* dark text for readability */
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 3rem;
    overflow-y: auto;
    position: relative;
    box-shadow: -20px 0 60px rgba(2,6,23,0.5); /* separation from dark background */
  }

  .login-form-wrapper {
    max-width: 420px;
    width: 100%;
    margin: 0 auto;
    background: transparent;
  }

  /* Form Element Styling */
  .form-control {
    padding: 0.85rem 1rem;
    border-radius: 0.5rem;
    border: 1px solid #ced4da;
    background: #fff;
    color: var(--dark-text);
  }

  .form-control:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.25rem rgba(13,110,253,0.12);
  }

  .btn-primary {
    padding: 0.85rem 1rem;
    font-weight: 500;
    border-radius: 0.5rem;
  }

  #togglePassword {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-color: #ced4da;
    background: #fff;
  }

  .login-footer-note {
    position: absolute;
    bottom: 1.5rem;
    left: 0;
    right: 0;
    text-align: center;
    color: #6c757d;
    font-size: 0.875rem;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .login-split-screen { flex-direction: column; min-height: 100vh; }
    .login-brand-panel { height: 220px; flex-basis: auto; }
    .login-form-panel { flex-basis: auto; padding: 2rem 1.5rem; }
    .login-footer-note { position: static; padding-top: 1.25rem; }
  }
</style>

<div class="login-split-screen">

  <div class="login-brand-panel">
    <div class="brand-logo">SHAPADU SECURITY</div>
    <p class="brand-tagline">Security Personnel Training Platform</p>
  </div>

  <div class="login-form-panel">
    <div class="login-form-wrapper">

      <div class="text-center mb-4">
        <h1 class="fw-bold" style="font-size: 2.25rem;">Log In</h1>
        <p class="text-muted mt-2">
          Don't have an account?
          <a href="{{ url_for('main.signup') }}" class="fw-bold text-decoration-none">Sign up here</a>
        </p>
      </div>

      <form method="POST">
        <div class="mb-3">
          <label for="email" class="form-label">Email Address</label>
          <input type="email" class="form-control" id="email" name="email" required placeholder="you@example.com">
        </div>
        <div class="mb-4">
          <label for="password" class="form-label">Password</label>
          <div class="input-group">
            <input type="password" class="form-control" id="password" name="password" required placeholder="Enter your password">
            <button class="btn btn-outline-secondary" type="button" id="togglePassword" tabindex="-1">
              <i class="fas fa-eye"></i>
            </button>
          </div>
        </div>
        <button type="submit" class="btn btn-primary w-100 fs-5">
          <i class="fas fa-sign-in-alt me-2"></i>Login
        </button>
      </form>

      <div class="text-center mt-4">
          <a href="{{ url_for('main.index') }}" class="btn btn-light border"><i class="fas fa-arrow-left me-2"></i>Back to Home</a>
      </div>
    </div>
    <div class="login-footer-note">
      &copy; 2025 SHAPADU SECURITY SDN BHD. All rights reserved.
    </div>
  </div>

</div>

<script>
  
  document.addEventListener('DOMContentLoaded', function() {
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    if (togglePassword && passwordInput) {
      togglePassword.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        this.querySelector('i').classList.toggle('fa-eye');
        this.querySelector('i').classList.toggle('fa-eye-slash');
      });
    }
  });
</script>
{% endblock %}